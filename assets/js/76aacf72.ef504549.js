"use strict";(self.webpackChunkgitopssecuritychampion=self.webpackChunkgitopssecuritychampion||[]).push([[238],{5826:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"resources/branch-protection-rules/branchProtectionRules","title":"Branch Protection Rules","description":"Overview","source":"@site/docs/resources/branch-protection-rules/README.md","sourceDirName":"resources/branch-protection-rules","slug":"/branchProtectionRules","permalink":"/GitOpsSecurityChampion/branchProtectionRules","draft":false,"unlisted":false,"editUrl":"https://github.com/CycodeLabs/GitOpsSecurityChampion/blob/main/docs/resources/branch-protection-rules/README.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"slug":"/branchProtectionRules","id":"branchProtectionRules","sidebar_position":5},"sidebar":"resources","previous":{"title":"Strict RBAC Policies","permalink":"/GitOpsSecurityChampion/strictRBACPolicies"},"next":{"title":"Separating Config Vs. Source Code Repositories","permalink":"/GitOpsSecurityChampion/separatingConfig"}}');var r=n(4848),i=n(8453);const o={slug:"/branchProtectionRules",id:"branchProtectionRules",sidebar_position:5},c="Branch Protection Rules",a={},l=[{value:"Overview",id:"overview",level:2},{value:"Why It\u2019s Important",id:"why-its-important",level:2},{value:"Implementation Steps",id:"implementation-steps",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Additional Resources",id:"additional-resources",level:2},{value:"Priority Level",id:"priority-level",level:2}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"branch-protection-rules",children:"Branch Protection Rules"})}),"\n",(0,r.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(s.p,{children:["Branch protection rules are essential for ensuring the integrity and security of the GitOps workflow. These rules enforce strict conditions that must be met before changes can be merged into critical branches, such as ",(0,r.jsx)(s.code,{children:"main"})," or ",(0,r.jsx)(s.code,{children:"production"}),". By requiring pull requests, status checks, code reviews, and other safeguards, these rules help prevent unauthorized or insecure changes from being deployed to production systems."]}),"\n",(0,r.jsx)(s.h2,{id:"why-its-important",children:"Why It\u2019s Important"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Prevent Unauthorized Changes:"})," Branch protection rules prevent direct pushes to critical branches, ensuring that changes go through a controlled process with proper review and approval."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Enforce Security and Quality Checks:"})," By requiring status checks to pass before merging, you ensure that automated tests, such as linting, secret scanning, and sanity checks, are validated before deployment."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"implementation-steps",children:"Implementation Steps"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Define Protection Rules:"})," Configure your version control system to enforce protection rules on critical branches like ",(0,r.jsx)(s.code,{children:"main"})," and ",(0,r.jsx)(s.code,{children:"production"}),". The rules should include:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Require a Pull Request Before Merging:"})," All changes to the protected branch must be made through a pull request, ensuring that each change is reviewed."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Require Status Checks to Pass Before Merging:"})," Ensure that status checks such as linting, secret scanning, and sanity checks pass before allowing a merge. This guarantees that code adheres to security and quality standards."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Require Signed Commits:"})," Only allow commits that are signed to verify the authenticity of changes."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Disable Force Pushes:"})," Prevent force pushes to protected branches, which could rewrite commit history and bypass safeguards."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Require Code Reviews:"})," Specify a minimum number of approvals required before merging, ensuring changes are properly reviewed by the team."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Configure Automated Status Checks:"})," Set up automated workflows for linting, secret scanning, dependency checks, and other tests to run on every pull request. These status checks should be required to pass before a pull request can be merged."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Require Status Checks to Pass Before Merging:"})," Ensure that automated tests, including linting, secret scanning, end-to-end tests, and sanity checks, pass before a pull request can be merged. These checks validate that the code is secure and functional, minimizing the risk of introducing issues or vulnerabilities into the main branch."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Use Code Reviews:"})," Require peer reviews to catch issues that automated tests might miss and provide a second layer of validation for changes."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Disable Force Pushes:"})," Prevent force pushes to critical branches to maintain the integrity of the commit history and prevent accidental or malicious changes."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Signed Commits:"})," Require all commits to be signed, ensuring the authenticity of the code and preventing unauthorized code changes."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-protected-branches/about-protected-branches",children:"GitHub Branch Protection"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://docs.gitlab.com/ee/user/project/protected_branches.html",children:"GitLab Protected Branches"})}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"priority-level",children:"Priority Level"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Gold:"})," Critical for maintaining the security and stability of the GitOps workflow by enforcing pull requests, status checks, signed commits, and preventing unauthorized history rewrites."]}),"\n"]})]})}function d(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var t=n(6540);const r={},i=t.createContext(r);function o(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);